import{$ as e,G as t,H as n,J as r,K as i,Q as a,S as o,T as s,U as c,_ as ee,at as te,b as ne,c as re,dt as ie,et as ae,f as oe,g as l,h as se,it as ce,nt as le,q as ue,r as de,rt as fe,s as pe,tt as me,ut as he,w as ge,x as _e,y as ve,yt as u}from"./index-DStcmi1F.js";import{$ as ye,A as be,B as xe,C as Se,D as Ce,E as we,F as Te,G as Ee,H as De,I as Oe,J as ke,K as Ae,L as je,M as Me,O as Ne,P as Pe,Q as Fe,R as Ie,S as Le,T as Re,U as ze,V as Be,W as Ve,X as He,Y as Ue,Z as We,_ as Ge,a as Ke,b as qe,c as Je,d as Ye,et as Xe,f as Ze,g as Qe,h as $e,i as et,j as tt,k as nt,l as rt,m as it,n as at,o as ot,p as st,q as ct,r as lt,s as ut,t as dt,tt as ft,u as pt,v as mt,w as ht,x as gt,y as d,z as _t}from"./dist-es-CqCHHU57.js";function vt(e){return{schemeId:`aws.auth#sigv4`,signingProperties:{name:`sts`,region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}function yt(e){return{schemeId:`smithy.api#noAuth`}}var bt,xt,St,Ct,wt=u((()=>{be(),i(),z(),bt=async(e,t,n)=>({operation:r(t).operation,region:await ue(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),xt=e=>{let t=[];switch(e.operation){case`AssumeRoleWithWebIdentity`:t.push(yt(e));break;default:t.push(vt(e))}return t},St=e=>Object.assign(e,{stsClientCtor:R}),Ct=e=>{let t=Oe(St(e));return Object.assign(t,{authSchemePreference:ue(e.authSchemePreference??[])})}})),Tt,f,p=u((()=>{Tt=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:`sts`}),f={UseGlobalEndpoint:{type:`builtInParams`,name:`useGlobalEndpoint`},UseFIPS:{type:`builtInParams`,name:`useFipsEndpoint`},Endpoint:{type:`builtInParams`,name:`endpoint`},Region:{type:`builtInParams`,name:`region`},UseDualStack:{type:`builtInParams`,name:`useDualstackEndpoint`}}})),Et,Dt,Ot,kt,At,jt,Mt,Nt,Pt,Ft,It,Lt,Rt,zt,Bt,Vt,Ht,Ut,Wt,Gt=u((()=>{Et=`@aws-sdk/nested-clients`,Dt=`3.953.0`,Ot=`Nested clients for AWS SDK packages.`,kt=`./dist-cjs/index.js`,At=`./dist-es/index.js`,jt=`./dist-types/index.d.ts`,Mt={build:`yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'`,"build:cjs":`node ../../scripts/compilation/inline nested-clients`,"build:es":`tsc -p tsconfig.es.json`,"build:include:deps":`lerna run --scope $npm_package_name --include-dependencies build`,"build:types":`tsc -p tsconfig.types.json`,"build:types:downlevel":`downlevel-dts dist-types dist-types/ts3.4`,clean:`rimraf ./dist-* && rimraf *.tsbuildinfo`,lint:`node ../../scripts/validation/submodules-linter.js --pkg nested-clients`,test:`yarn g:vitest run`,"test:watch":`yarn g:vitest watch`},Nt={node:`>=18.0.0`},Pt={name:`AWS SDK for JavaScript Team`,url:`https://aws.amazon.com/javascript/`},Ft=`Apache-2.0`,It={"@aws-crypto/sha256-browser":`5.2.0`,"@aws-crypto/sha256-js":`5.2.0`,"@aws-sdk/core":`3.953.0`,"@aws-sdk/middleware-host-header":`3.953.0`,"@aws-sdk/middleware-logger":`3.953.0`,"@aws-sdk/middleware-recursion-detection":`3.953.0`,"@aws-sdk/middleware-user-agent":`3.953.0`,"@aws-sdk/region-config-resolver":`3.953.0`,"@aws-sdk/types":`3.953.0`,"@aws-sdk/util-endpoints":`3.953.0`,"@aws-sdk/util-user-agent-browser":`3.953.0`,"@aws-sdk/util-user-agent-node":`3.953.0`,"@smithy/config-resolver":`^4.4.4`,"@smithy/core":`^3.19.0`,"@smithy/fetch-http-handler":`^5.3.7`,"@smithy/hash-node":`^4.2.6`,"@smithy/invalid-dependency":`^4.2.6`,"@smithy/middleware-content-length":`^4.2.6`,"@smithy/middleware-endpoint":`^4.3.15`,"@smithy/middleware-retry":`^4.4.15`,"@smithy/middleware-serde":`^4.2.7`,"@smithy/middleware-stack":`^4.2.6`,"@smithy/node-config-provider":`^4.3.6`,"@smithy/node-http-handler":`^4.4.6`,"@smithy/protocol-http":`^5.3.6`,"@smithy/smithy-client":`^4.10.0`,"@smithy/types":`^4.10.0`,"@smithy/url-parser":`^4.2.6`,"@smithy/util-base64":`^4.3.0`,"@smithy/util-body-length-browser":`^4.2.0`,"@smithy/util-body-length-node":`^4.2.1`,"@smithy/util-defaults-mode-browser":`^4.3.14`,"@smithy/util-defaults-mode-node":`^4.2.17`,"@smithy/util-endpoints":`^3.2.6`,"@smithy/util-middleware":`^4.2.6`,"@smithy/util-retry":`^4.2.6`,"@smithy/util-utf8":`^4.2.0`,tslib:`^2.6.2`},Lt={concurrently:`7.0.0`,"downlevel-dts":`0.10.1`,rimraf:`3.0.2`,typescript:`~5.8.3`},Rt={"<4.0":{"dist-types/*":[`dist-types/ts3.4/*`]}},zt=[`./signin.d.ts`,`./signin.js`,`./sso-oidc.d.ts`,`./sso-oidc.js`,`./sts.d.ts`,`./sts.js`,`dist-*/**`],Bt={"./dist-es/submodules/signin/runtimeConfig":`./dist-es/submodules/signin/runtimeConfig.browser`,"./dist-es/submodules/sso-oidc/runtimeConfig":`./dist-es/submodules/sso-oidc/runtimeConfig.browser`,"./dist-es/submodules/sts/runtimeConfig":`./dist-es/submodules/sts/runtimeConfig.browser`},Vt=`https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients`,Ht={type:`git`,url:`https://github.com/aws/aws-sdk-js-v3.git`,directory:`packages/nested-clients`},Ut={"./package.json":`./package.json`,"./sso-oidc":{types:`./dist-types/submodules/sso-oidc/index.d.ts`,module:`./dist-es/submodules/sso-oidc/index.js`,node:`./dist-cjs/submodules/sso-oidc/index.js`,import:`./dist-es/submodules/sso-oidc/index.js`,require:`./dist-cjs/submodules/sso-oidc/index.js`},"./sts":{types:`./dist-types/submodules/sts/index.d.ts`,module:`./dist-es/submodules/sts/index.js`,node:`./dist-cjs/submodules/sts/index.js`,import:`./dist-es/submodules/sts/index.js`,require:`./dist-cjs/submodules/sts/index.js`},"./signin":{types:`./dist-types/submodules/signin/index.d.ts`,module:`./dist-es/submodules/signin/index.js`,node:`./dist-cjs/submodules/signin/index.js`,import:`./dist-es/submodules/signin/index.js`,require:`./dist-cjs/submodules/signin/index.js`}},Wt={name:Et,version:Dt,description:Ot,main:kt,module:At,types:jt,scripts:Mt,engines:Nt,sideEffects:!1,author:Pt,license:Ft,dependencies:It,devDependencies:Lt,typesVersions:Rt,files:zt,browser:Bt,"react-native":{},homepage:Vt,repository:Ht,exports:Ut}})),Kt,qt=u((()=>{Kt=e=>new TextEncoder().encode(e)})),Jt=u((()=>{})),Yt,Xt=u((()=>{Yt=e=>{if(typeof e==`string`)return e;if(typeof e!=`object`||typeof e.byteOffset!=`number`||typeof e.byteLength!=`number`)throw Error(`@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.`);return new TextDecoder(`utf-8`).decode(e)}})),Zt=u((()=>{qt(),Jt(),Xt()})),m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k,A,j,M,N,P,F,Qt,$t,en,I,L,tn,nn,rn,an,on,sn,cn,ln,un,dn,fn,pn=u((()=>{m=`required`,h=`type`,g=`fn`,_=`argv`,v=`ref`,y=!1,b=!0,x=`booleanEquals`,S=`stringEquals`,C=`sigv4`,w=`sts`,T=`us-east-1`,E=`endpoint`,D=`https://sts.{Region}.{PartitionResult#dnsSuffix}`,O=`tree`,k=`error`,A=`getAttr`,j={[m]:!1,[h]:`string`},M={[m]:!0,default:!1,[h]:`boolean`},N={[v]:`Endpoint`},P={[g]:`isSet`,[_]:[{[v]:`Region`}]},F={[v]:`Region`},Qt={[g]:`aws.partition`,[_]:[F],assign:`PartitionResult`},$t={[v]:`UseFIPS`},en={[v]:`UseDualStack`},I={url:`https://sts.amazonaws.com`,properties:{authSchemes:[{name:C,signingName:w,signingRegion:T}]},headers:{}},L={},tn={conditions:[{[g]:S,[_]:[F,`aws-global`]}],[E]:I,[h]:E},nn={[g]:x,[_]:[$t,!0]},rn={[g]:x,[_]:[en,!0]},an={[g]:A,[_]:[{[v]:`PartitionResult`},`supportsFIPS`]},on={[v]:`PartitionResult`},sn={[g]:x,[_]:[!0,{[g]:A,[_]:[on,`supportsDualStack`]}]},cn=[{[g]:`isSet`,[_]:[N]}],ln=[nn],un=[rn],dn={version:`1.0`,parameters:{Region:j,UseDualStack:M,UseFIPS:M,Endpoint:j,UseGlobalEndpoint:M},rules:[{conditions:[{[g]:x,[_]:[{[v]:`UseGlobalEndpoint`},b]},{[g]:`not`,[_]:cn},P,Qt,{[g]:x,[_]:[$t,y]},{[g]:x,[_]:[en,y]}],rules:[{conditions:[{[g]:S,[_]:[F,`ap-northeast-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`ap-south-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`ap-southeast-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`ap-southeast-2`]}],endpoint:I,[h]:E},tn,{conditions:[{[g]:S,[_]:[F,`ca-central-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`eu-central-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`eu-north-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`eu-west-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`eu-west-2`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`eu-west-3`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`sa-east-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,T]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`us-east-2`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`us-west-1`]}],endpoint:I,[h]:E},{conditions:[{[g]:S,[_]:[F,`us-west-2`]}],endpoint:I,[h]:E},{endpoint:{url:D,properties:{authSchemes:[{name:C,signingName:w,signingRegion:`{Region}`}]},headers:L},[h]:E}],[h]:O},{conditions:cn,rules:[{conditions:ln,error:`Invalid Configuration: FIPS and custom endpoint are not supported`,[h]:k},{conditions:un,error:`Invalid Configuration: Dualstack and custom endpoint are not supported`,[h]:k},{endpoint:{url:N,properties:L,headers:L},[h]:E}],[h]:O},{conditions:[P],rules:[{conditions:[Qt],rules:[{conditions:[nn,rn],rules:[{conditions:[{[g]:x,[_]:[b,an]},sn],rules:[{endpoint:{url:`https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}`,properties:L,headers:L},[h]:E}],[h]:O},{error:`FIPS and DualStack are enabled, but this partition does not support one or both`,[h]:k}],[h]:O},{conditions:ln,rules:[{conditions:[{[g]:x,[_]:[an,b]}],rules:[{conditions:[{[g]:S,[_]:[{[g]:A,[_]:[on,`name`]},`aws-us-gov`]}],endpoint:{url:`https://sts.{Region}.amazonaws.com`,properties:L,headers:L},[h]:E},{endpoint:{url:`https://sts-fips.{Region}.{PartitionResult#dnsSuffix}`,properties:L,headers:L},[h]:E}],[h]:O},{error:`FIPS is enabled but this partition does not support FIPS`,[h]:k}],[h]:O},{conditions:un,rules:[{conditions:[sn],rules:[{endpoint:{url:`https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}`,properties:L,headers:L},[h]:E}],[h]:O},{error:`DualStack is enabled but this partition does not support DualStack`,[h]:k}],[h]:O},tn,{endpoint:{url:D,properties:L,headers:L},[h]:E}],[h]:O}],[h]:O},{error:`Invalid Configuration: Missing Region`,[h]:k}]},fn=dn})),mn,hn,gn=u((()=>{xe(),Ve(),pn(),mn=new ct({size:50,params:[`Endpoint`,`Region`,`UseDualStack`,`UseFIPS`,`UseGlobalEndpoint`]}),hn=(e,t={})=>mn.get(e,()=>Ee(fn,{endpointParams:e,logger:t.logger})),Ae.aws=ze})),_n,vn=u((()=>{be(),tt(),de(),l(),Be(),me(),Zt(),wt(),gn(),_n=e=>({apiVersion:`2011-06-15`,base64Decoder:e?.base64Decoder??fe,base64Encoder:e?.base64Encoder??le,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??hn,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??xt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:`aws.auth#sigv4`,identityProvider:e=>e.getIdentityProvider(`aws.auth#sigv4`),signer:new je},{schemeId:`smithy.api#noAuth`,identityProvider:e=>e.getIdentityProvider(`smithy.api#noAuth`)||(async()=>({})),signer:new pe}],logger:e?.logger??new ee,protocol:e?.protocol??Me,protocolSettings:e?.protocolSettings??{defaultNamespace:`com.amazonaws.sts`,xmlNamespace:`https://sts.amazonaws.com/doc/2011-06-15/`,version:`2011-06-15`,serviceTarget:`AWSSecurityTokenServiceV20110615`},serviceId:e?.serviceId??`STS`,urlParser:e?.urlParser??De,utf8Decoder:e?.utf8Decoder??Kt,utf8Encoder:e?.utf8Encoder??Yt})})),yn,bn=u((()=>{Gt(),Ye(),pt(),ht(),e(),ut(),l(),Pe(),Ke(),Qe(),vn(),yn=e=>{let t=ot(e),n=()=>t().then(_e),r=_n(e);return{...r,...e,runtime:`browser`,defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??Te,credentialDefaultProvider:e?.credentialDefaultProvider??(e=>()=>Promise.reject(Error(`Credential is missing`))),defaultUserAgentProvider:e?.defaultUserAgentProvider??rt({serviceId:r.serviceId,clientVersion:Wt.version}),maxAttempts:e?.maxAttempts??3,region:e?.region??Je(`Region is missing`),requestHandler:ce.create(e?.requestHandler??n),retryMode:e?.retryMode??(async()=>(await n()).retryMode||mt),sha256:e?.sha256??Ze,streamCollector:e?.streamCollector??ae,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1))}}})),xn,Sn,Cn=u((()=>{xn=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);n===-1?t.push(e):t.splice(n,1,e)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider(){return n},setCredentials(e){r=e},credentials(){return r}}},Sn=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})})),wn,Tn=u((()=>{dt(),te(),l(),Cn(),wn=(e,t)=>{let n=Object.assign(lt(e),ve(e),he(e),xn(e));return t.forEach(e=>e.configure(n)),Object.assign(e,et(n),ne(n),ie(n),Sn(n))}})),R,z=u((()=>{Xe(),We(),Ue(),Ne(),ht(),de(),n(),Se(),d(),st(),l(),wt(),p(),bn(),Tn(),R=class extends a{config;constructor(...[e]){let n=yn(e||{});super(n),this.initConfig=n,this.config=wn(Ct(qe(ft(Re($e(ke(Tt(n))))))),e?.extensions||[]),this.middlewareStack.use(t(this.config)),this.middlewareStack.use(nt(this.config)),this.middlewareStack.use(it(this.config)),this.middlewareStack.use(Le(this.config)),this.middlewareStack.use(ye(this.config)),this.middlewareStack.use(Fe(this.config)),this.middlewareStack.use(He(this.config)),this.middlewareStack.use(se(this.config,{httpAuthSchemeParametersProvider:bt,identityProviderConfigProvider:async e=>new re({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use(oe(this.config))}destroy(){super.destroy()}}})),B,En=u((()=>{l(),B=class e extends o{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}})),Dn,On,kn,An,jn,Mn,Nn,Pn=u((()=>{En(),Dn=class e extends B{name=`ExpiredTokenException`;$fault=`client`;constructor(t){super({name:`ExpiredTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},On=class e extends B{name=`MalformedPolicyDocumentException`;$fault=`client`;constructor(t){super({name:`MalformedPolicyDocumentException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},kn=class e extends B{name=`PackedPolicyTooLargeException`;$fault=`client`;constructor(t){super({name:`PackedPolicyTooLargeException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},An=class e extends B{name=`RegionDisabledException`;$fault=`client`;constructor(t){super({name:`RegionDisabledException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},jn=class e extends B{name=`IDPRejectedClaimException`;$fault=`client`;constructor(t){super({name:`IDPRejectedClaimException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},Mn=class e extends B{name=`InvalidIdentityTokenException`;$fault=`client`;constructor(t){super({name:`InvalidIdentityTokenException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}},Nn=class e extends B{name=`IDPCommunicationErrorException`;$fault=`client`;constructor(t){super({name:`IDPCommunicationErrorException`,$fault:`client`,...t}),Object.setPrototypeOf(this,e.prototype)}}})),Fn,In,Ln,Rn,zn,Bn,V,Vn,Hn,Un,Wn,H,Gn,Kn,qn,Jn,Yn,Xn,Zn,Qn,$n,er,tr,nr,rr,ir,ar,or,sr,cr,lr,ur,dr,fr,pr,mr,hr,gr,U,_r,vr,yr,br,xr,Sr,Cr,wr,Tr,Er,W,G,Dr,K,q,J,Or,kr,Ar,Y,jr,Mr,X,Z,Nr,Pr,Fr,Q,Ir,Lr,Rr,zr,Br,Vr,Hr,Ur,Wr,Gr,Kr,qr,Jr,Yr,Xr,Zr,Qr=u((()=>{n(),Pn(),En(),Fn=`Arn`,In=`AccessKeyId`,Ln=`AssumeRole`,Rn=`AssumedRoleId`,zn=`AssumeRoleRequest`,Bn=`AssumeRoleResponse`,V=`AssumedRoleUser`,Vn=`AssumeRoleWithWebIdentity`,Hn=`AssumeRoleWithWebIdentityRequest`,Un=`AssumeRoleWithWebIdentityResponse`,Wn=`Audience`,H=`Credentials`,Gn=`ContextAssertion`,Kn=`DurationSeconds`,qn=`Expiration`,Jn=`ExternalId`,Yn=`ExpiredTokenException`,Xn=`IDPCommunicationErrorException`,Zn=`IDPRejectedClaimException`,Qn=`InvalidIdentityTokenException`,$n=`Key`,er=`MalformedPolicyDocumentException`,tr=`Policy`,nr=`PolicyArns`,rr=`ProviderArn`,ir=`ProvidedContexts`,ar=`ProvidedContextsListType`,or=`ProvidedContext`,sr=`PolicyDescriptorType`,cr=`ProviderId`,lr=`PackedPolicySize`,ur=`PackedPolicyTooLargeException`,dr=`Provider`,fr=`RoleArn`,pr=`RegionDisabledException`,mr=`RoleSessionName`,hr=`SecretAccessKey`,gr=`SubjectFromWebIdentityToken`,U=`SourceIdentity`,_r=`SerialNumber`,vr=`SessionToken`,yr=`Tags`,br=`TokenCode`,xr=`TransitiveTagKeys`,Sr=`Tag`,Cr=`Value`,wr=`WebIdentityToken`,Tr=`arn`,Er=`accessKeySecretType`,W=`awsQueryError`,G=`client`,Dr=`clientTokenType`,K=`error`,q=`httpError`,J=`message`,Or=`policyDescriptorListType`,kr=`smithy.ts.sdk.synthetic.com.amazonaws.sts`,Ar=`tagListType`,Y=`com.amazonaws.sts`,jr=[0,Y,Er,8,0],Mr=[0,Y,Dr,8,0],X=[3,Y,V,0,[Rn,Fn],[0,0]],Z=[3,Y,zn,0,[fr,mr,nr,tr,Kn,yr,xr,Jn,_r,br,U,ir],[0,0,()=>qr,0,1,()=>Yr,64,0,0,0,0,()=>Jr]],Nr=[3,Y,Bn,0,[H,V,lr,U],[[()=>Q,0],()=>X,1,0]],Pr=[3,Y,Hn,0,[fr,mr,wr,cr,nr,tr,Kn],[0,0,[()=>Mr,0],0,()=>qr,0,1]],Fr=[3,Y,Un,0,[H,gr,V,lr,dr,Wn,U],[[()=>Q,0],0,()=>X,1,0,0,0]],Q=[3,Y,H,0,[In,hr,vr,qn],[0,[()=>jr,0],0,4]],Ir=[-3,Y,Yn,{[K]:G,[q]:400,[W]:[`ExpiredTokenException`,400]},[J],[0]],c.for(Y).registerError(Ir,Dn),Lr=[-3,Y,Xn,{[K]:G,[q]:400,[W]:[`IDPCommunicationError`,400]},[J],[0]],c.for(Y).registerError(Lr,Nn),Rr=[-3,Y,Zn,{[K]:G,[q]:403,[W]:[`IDPRejectedClaim`,403]},[J],[0]],c.for(Y).registerError(Rr,jn),zr=[-3,Y,Qn,{[K]:G,[q]:400,[W]:[`InvalidIdentityToken`,400]},[J],[0]],c.for(Y).registerError(zr,Mn),Br=[-3,Y,er,{[K]:G,[q]:400,[W]:[`MalformedPolicyDocument`,400]},[J],[0]],c.for(Y).registerError(Br,On),Vr=[-3,Y,ur,{[K]:G,[q]:400,[W]:[`PackedPolicyTooLarge`,400]},[J],[0]],c.for(Y).registerError(Vr,kn),Hr=[3,Y,sr,0,[Tr],[0]],Ur=[3,Y,or,0,[rr,Gn],[0,0]],Wr=[-3,Y,pr,{[K]:G,[q]:403,[W]:[`RegionDisabledException`,403]},[J],[0]],c.for(Y).registerError(Wr,An),Gr=[3,Y,Sr,0,[$n,Cr],[0,0]],Kr=[-3,kr,`STSServiceException`,0,[],[]],c.for(kr).registerError(Kr,B),qr=[1,Y,Or,0,()=>Hr],Jr=[1,Y,ar,0,()=>Ur],Yr=[1,Y,Ar,0,()=>Gr],Xr=[9,Y,Ln,0,()=>Z,()=>Nr],Zr=[9,Y,Vn,0,()=>Pr,()=>Fr]})),$r,ei=u((()=>{d(),l(),p(),Qr(),$r=class extends s.classBuilder().ep(f).m(function(e,t,n,r){return[gt(n,e.getEndpointParameterInstructions())]}).s(`AWSSecurityTokenServiceV20110615`,`AssumeRole`,{}).n(`STSClient`,`AssumeRoleCommand`).sc(Xr).build(){}})),$,ti=u((()=>{d(),l(),p(),Qr(),$=class extends s.classBuilder().ep(f).m(function(e,t,n,r){return[gt(n,e.getEndpointParameterInstructions())]}).s(`AWSSecurityTokenServiceV20110615`,`AssumeRoleWithWebIdentity`,{}).n(`STSClient`,`AssumeRoleWithWebIdentityCommand`).sc(Zr).build(){}})),ni,ri,ii=u((()=>{l(),ei(),ti(),z(),ni={AssumeRoleCommand:$r,AssumeRoleWithWebIdentityCommand:$},ri=class extends R{},ge(ni,ri)})),ai=u((()=>{ei(),ti()})),oi,si,ci,li,ui=u((()=>{Ie(),dt(),ti(),oi=e=>{if(typeof e?.Arn==`string`){let t=e.Arn.split(`:`);if(t.length>4&&t[4]!==``)return t[4]}},si=async(e,t,n,r={})=>{let i=typeof e==`function`?await e():e,a=typeof t==`function`?await t():t,o=``,s=i??a??(o=await at(r)());return n?.debug?.(`@aws-sdk/client-sts::resolveRegion`,`accepting first of:`,`${i} (credential provider clientConfig)`,`${a} (contextual client)`,`${o} (STS default: AWS_REGION, profile region, or us-east-1)`),s},ci=(e,t)=>{let n;return async r=>{if(!n){let{logger:r=e?.parentClientConfig?.logger,profile:i=e?.parentClientConfig?.profile,region:a,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:s,userAgentAppId:c=e?.parentClientConfig?.userAgentAppId}=e,ee=await si(a,e?.parentClientConfig?.region,s,{logger:r,profile:i}),te=!li(o);n=new t({...e,userAgentAppId:c,profile:i,region:ee,requestHandler:te?o:void 0,logger:r})}let{Credentials:i,AssumedRoleUser:a}=await n.send(new $(r));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);let o=oi(a),s={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...o&&{accountId:o}};return o&&_t(s,`RESOLVED_ACCOUNT_ID`,`T`),_t(s,`CREDENTIALS_STS_ASSUME_ROLE_WEB_ID`,`k`),s}},li=e=>e?.metadata?.handlerProtocol===`h2`})),di,fi,pi=u((()=>{ui(),z(),di=(e,t)=>t?class extends e{constructor(e){super(e);for(let e of t)this.middlewareStack.use(e)}}:e,fi=(e={},t)=>ci(e,di(R,t))})),mi=u((()=>{z(),ii(),ai(),Qr(),Pn(),pi()}));export{kn as A,Kr as C,jn as D,Nn as E,B as M,R as N,Mn as O,Wr as S,Dn as T,zr as _,$r as a,Hr as b,Nr as c,Fr as d,X as f,Rr as g,Lr as h,$ as i,An as j,On as k,Zr as l,Ir as m,fi as n,Xr as o,Q as p,ri as r,Z as s,mi as t,Pr as u,Br as v,Gr as w,Ur as x,Vr as y};